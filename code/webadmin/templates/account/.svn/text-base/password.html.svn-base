{% extends 'account/_layout.html' %}


{% block breadcrumb %}
    <ul class="breadcrumb">
        <li>
            <a href="{{ url_for('account.index_view') }}">我的账号</a>
            <span class="divider">/</span>
        </li>
        <li class="active">修改密码</li>
    </ul>
{% endblock %}


{% block main_title %}
    <div class="title">修改密码</div>
{% endblock %}


{% block main_content %}

{% include('_include/message.html') %}

<form class="form-horizontal" method="post">
    <div class="control-group">
        <label class="control-label" for="password">当前密码：</label>
        <div class="controls">
            <input type="password" autocomplete="off"
                   id="password" name="password">
        </div>
    </div>
    <div class="control-group">
        <label class="control-label" for="new_password">新密码：</label>
        <div class="controls">
        <input type="password" autocomplete="off"
               id="new_password" name="new_password">
        </div>
    </div>
    <div class="control-group">
        <label class="control-label" for="repeat_new_password">确认新密码：</label>
        <div class="controls">
        <input type="password" autocomplete="off"
               id="repeat_new_password" name="repeat_new_password">
        </div>
    </div>
    <div class="control-group">
        <div class="controls" style="margin-left: 224px;">
            <button type="submit" class="btn">更新密码</button>
        </div>
    </div>

</form>

{% endblock %}


{% block tail %}
{{ super() }}
<script>
$(function() {
'use strict';

$('form').submit(function() {
    var password = $('#password').val();
    var new_password = $('#new_password').val();
    var repeat_new_password = $('#repeat_new_password').val();
    if (password === '') {
        alert('当前密码不能为空');
        return false;
    }
    if (new_password === '') {
        alert('新密码不能为空');
        return false;
    }
    if (new_password !== repeat_new_password) {
        alert('新密码两次输入不一致');
        return false;
    }
    return true;
});

});
</script>
{% endblock %}

